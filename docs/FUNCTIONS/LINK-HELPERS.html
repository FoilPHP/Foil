<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Giuseppe Mazzapica">
    <title>Blocks &amp; Helpers / Link Helpers. Foil: PHP Template Engine</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
    <link href="https://foilphp.github.io/Foil/css/theme.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

      <!-- Sidebar -->
      <div id="sidebar-wrapper">
          <ul class="sidebar-nav">
                                                  <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Getting Started</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/GETTING-STARTED/INSTALLATION.html">
                                      Installation
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/GETTING-STARTED/ENGINE.html">
                                      Engine
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/GETTING-STARTED/ALIAS.html">
                                      Alias
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/GETTING-STARTED/FOLDERS.html">
                                      Folders
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/GETTING-STARTED/FILE-EXTENSIONS.html">
                                      File Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Templates</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/TEMPLATES/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/TEMPLATES/INHERITANCE.html">
                                      Template Inheritance
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/TEMPLATES/SECTIONS-RENDERING.html">
                                      Sections Rendering
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/TEMPLATES/PARTIALS.html">
                                      Partials
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Data</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/PASS-DATA.html">
                                      Pass Data To Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/CONTEXT-API.html">
                                      Context API
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/RETRIEVE-DATA.html">
                                      Retrieve Data Inside Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/HELPERS.html">
                                      Data Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/FILTERS.html">
                                      Data Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/DATA/ARRAIZATION.html">
                                      Arraization
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Blocks &amp; Helpers</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/BLOCKS.html">
                                      Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/LOOP-HELPERS.html">
                                      Loop Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/ARRAY-HELPERS.html">
                                      Array Helpers
                                  </a>
                              </li>
                                                        <li class="active">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/LINK-HELPERS.html">
                                      Link Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/URI-HELPERS.html">
                                      Uri Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/FUNCTIONS/HTML-HELPERS.html">
                                      HTML and Form Helpers
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Extending Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/EXTENDING/CUSTOM-BLOCKS.html">
                                      Custom Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/EXTENDING/FUNCTIONS-AND-FILTERS.html">
                                      Custom Functions and Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/EXTENDING/CUSTOM-EXTENSIONS.html">
                                      Custom Foil Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Integrate Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/INTEGRATE/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="https://foilphp.github.io/Foil/docs/INTEGRATE/API.html">
                                      API Functions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                        </ul>
      </div>
      <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div id="content" class="col-lg-11">
                                                <ol class="breadcrumb">
                          <li><a href="https://foilphp.github.io/Foil">Foil</a></li>
                          <li class="active">Blocks &amp; Helpers</li>
                        </ol>
                                                <h1 id="link-helpers">Link Helpers</h1>
<p>In templates, absolute and relative urls have its own pro and cons to be used for internal links.</p>
<p>Relative links are more <em>portable</em> and require less typing, but sometimes they can't work (e.g in case <code>mod_rewrite</code> or similar is used to handle urls).</p>
<p>Foil link helpers are functions that allow to output internal links taking the best from both absolute and relative links.</p>
<p>There are just 2 helpers:</p>
<ul>
<li><code>link()</code></li>
<li><code>asset()</code></li>
</ul>
<p>Link helpers are shipped with Foil but they are <strong>not</strong> enabled by default.</p>
<p>To enable them you need to load an extension that is shipped with Foil (more on Foil extensions under <em>&quot;Extending Foil&quot;</em> docs section).</p>
<pre><code class="language-php">$engine-&gt;loadExtension(new \Foil\Extensions\Links(), $args);</code></pre>
<p><code>$args</code> is an array of configurations that changes how the helpers will work. More on this below.</p>
<h2><code>link()</code></h2>
<p>This helper provides 2 benefits:</p>
<ul>
<li>allow to easily output long urls with few chars</li>
<li>allow to write absolute urls typing only the relative part</li>
</ul>
<p>There are 3 options that regulate how helper work, they are:</p>
<ul>
<li><code>'host'</code> (string) Is the base host. Used to output absolute urls only typing the relative part.
Optional, if not provided the helper will use the current host.</li>
<li><code>'scheme'</code> (string) Is the default scheme ('http', 'https'..) to be used for links.
When set to <code>false</code> urls will use no scheme, starting with <code>//:</code>.
Optional, if not provided the helper will use the current scheme.
Note that this is the <em>default</em> scheme, but is possible to use a different scheme for any url.</li>
<li><code>'urls'</code> (array) A set of default relative paths, in a way that is possible to output very long urls with few chars.</li>
</ul>
<p>Assuming the extension is loaded like so:</p>
<pre><code class="language-php">$args = [
    'host'   =&gt; 'example.com',
    'scheme' =&gt; 'http',
    'urls'   =&gt; [
        'admin' =&gt; '/path/to/admin',
        'blog'  =&gt; '/path/to/blog'
    ],
];
$engine-&gt;loadExtension(new \Foil\Extensions\Links(), $args);</code></pre>
<p>In a template:</p>
<pre><code class="language-php">$this-&gt;link('foo'); // "http://example.com/foo"

$this-&gt;link('profile', 'admin'); // "http://example.com/path/to/admin/foo"

$this-&gt;link('dashboard', 'admin', 'https'); // "https://example.com/path/to/admin/foo"

$this-&gt;link('2014/hello-world', 'blog'); // "http://example.com/path/to/blog/2014/hello-world"</code></pre>
<p>Nice thing is that to configure different urls for different environments or to change host is just a matter of change a singular option with no need to change templates.</p>
<h2><code>asset()</code></h2>
<p>This helper is similar in purpose to <code>link()</code> but it's developed with specific functions for assets (styles, scripts and images).</p>
<p>Configuration for assets is independent from configuration for urls, so if your assets are in CDN your life will be easy when you'll need to output that long urls.</p>
<p>There are 4 options that regulate how <code>asset()</code> work, they are:</p>
<ul>
<li><code>'assets_host'</code> (string) Base host to be used for assets. Is independent from regular urls host for maximum flexibility. Optional, default to <code>'host'</code> option.</li>
<li><code>'assets_url'</code> (string) This is the relative to <code>'assets_host'</code> part of assets url. Optional, no default.</li>
<li><code>'assets_path'</code> (string) This is the base filesystem path to your assets. This is needed when cache bust is used to read assets files last update time.  </li>
<li>
<p><code>'cache_bust'</code> (mixed) This allow <em>cache busted</em> assets.
This feature is largely inspired to <a href="http://platesphp.com/extensions/asset/">Plates asset extension</a> and it works by appending the timestamp of the file last update to its URL.
For example, <code>/css/style.css</code> becomes <code>/css/style.1421281020.css</code></p>
<p>Please note that you need to properly configure <code>'assets_path'</code> and <strong>setup your HTTP server</strong> to use this function.</p>
<p>For server configuration see examples on <a href="http://platesphp.com/extensions/asset/#filename-caching">Plates site</a>.</p>
<p>In Foil you can configure cache bust for:</p>
<ul>
<li>all assets, by set this option to <code>true</code> or <code>false</code></li>
<li>specific kind of assets, by set this option to <code>'images'</code> or <code>'styles'</code> or <code>'scripts'</code></li>
<li>specific file extensions, by set this option to an array of supported extensions, e.g. <code>['css','js']</code></li>
</ul>
</li>
</ul>
<p>Default HTTP scheme configuration for assets is configured via <code>'scheme'</code> option, the same used for <code>links()</code>.</p>
<p>Assuming the extension is loaded like so:</p>
<pre><code class="language-php">$args = [
  'assets_host' =&gt; 'static.example.com',
  'assets_url'  =&gt; '/assets',
  'scheme'      =&gt; false,
  'assets_path' =&gt; dirname(__DIR__).'/assets',
  'cache_bust'  =&gt; ['css','js'],
];
$engine-&gt;loadExtension(new \Foil\Extension\Links(), $args);</code></pre>
<p>In a template:</p>
<pre><code class="language-php">$this-&gt;asset('images/foo.jpg'); // "//static.example.com/assets/images/foo.jpg"

$this-&gt;asset('images/foo.jpg', 'http'); // "http://static.example.com/assets/images/foo.jpg"

$this-&gt;asset('css/style.css'); // "//static.example.com/assets/css/style.1421281020.css"

$this-&gt;asset('js/custom.js'); // "//static.example.com/assets/js/custom.1423959420.js"</code></pre>
<p>Remember that you need to configure your HTTP server to use the cache bust feature.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

                    <a href="https://github.com/Giuseppe-Mazzapica/Foil">
                <img style="position:fixed; top:0; right:0; border:0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
            </a>
                <a href="#" id="menu-toggle" title="Toggle Menu"><i class="fa fa-bars"></i></a>


    </div>
    <!-- /#wrapper -->

    <footer class="footer hidden-xs hidden-sm">
      Made by hands by
      <a href="http://gm.zoomlab.it/" title="Giuseppe Mazzapica Home Page" target="_blank">Giuseppe Mazzapica</a>, with
      <a href="http://couscous.io/" title="Couscous" target="_blank">Couscous</a>,
      <a href="http://getbootstrap.com/" title="Bootstrap" target="_blank">Bootstrap</a> &amp;
      <a href="https://highlightjs.org/" title="highlight.js" target="_blank">highlight.js</a>

      <span class="socials">
        <a href="https://github.com/Giuseppe-Mazzapica" title="GitHub" target="_blank"><i class="fa fa-github-alt"></i></a>
        <a href="https://twitter.com/gmazzap" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
        <a href="http://wordpress.stackexchange.com/users/35541/" title="Stack Exchange" target="_blank"><i class="fa fa-stack-exchange"></i></a>
      </span>

    </footer>

    <a href="#wrapper" class="hidden-xs hidden-sm" id="back-top" title="Back to top"><i class="fa fa-long-arrow-up"></i></a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://foilphp.github.io/Foil/js/theme.min.js"></script>

</body>

</html>
