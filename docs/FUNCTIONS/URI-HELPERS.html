<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Giuseppe Mazzapica">
    <title>Blocks &amp; Helpers / URI Helpers. Foil: PHP Template Engine</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
    <link href="http://www.foilphp.it/css/theme.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

      <!-- Sidebar -->
      <div id="sidebar-wrapper">
          <ul class="sidebar-nav">
                                                  <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Getting Started</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/INSTALLATION.html">
                                      Installation
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/ENGINE.html">
                                      Engine
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/ALIAS.html">
                                      Alias
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/FOLDERS.html">
                                      Folders
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/FILE-EXTENSIONS.html">
                                      File Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Templates</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/INHERITANCE.html">
                                      Template Inheritance
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/SECTIONS-RENDERING.html">
                                      Sections Rendering
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/PARTIALS.html">
                                      Partials
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Data</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/PASS-DATA.html">
                                      Pass Data To Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/CONTEXT-API.html">
                                      Context API
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/RETRIEVE-DATA.html">
                                      Retrieve Data Inside Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/HELPERS.html">
                                      Data Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/FILTERS.html">
                                      Data Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/ARRAIZATION.html">
                                      Arraization
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Blocks &amp; Helpers</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/BLOCKS.html">
                                      Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/LOOP-HELPERS.html">
                                      Loop Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/ARRAY-HELPERS.html">
                                      Array Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/LINK-HELPERS.html">
                                      Link Helpers
                                  </a>
                              </li>
                                                        <li class="active">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/URI-HELPERS.html">
                                      Uri Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/HTML-HELPERS.html">
                                      HTML and Form Helpers
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Extending Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/CUSTOM-BLOCKS.html">
                                      Custom Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/FUNCTIONS-AND-FILTERS.html">
                                      Custom Functions and Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/CUSTOM-EXTENSIONS.html">
                                      Custom Foil Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Integrate Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/INTEGRATE/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/INTEGRATE/API.html">
                                      API Functions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                        </ul>
      </div>
      <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div id="content" class="col-lg-11">
                                                <ol class="breadcrumb">
                          <li><a href="http://www.foilphp.it">Foil</a></li>
                          <li class="active">Blocks &amp; Helpers</li>
                        </ol>
                                                <!--
currentMenu: "urihelpers"
currentSection: "Blocks & Helpers"
title: "URI Helpers"
-->
<h1>URI Helpers</h1>
<p>Inspired to <a href="http://platesphp.com/extensions/uri/">Plates URI extension</a> these helpers allow to easily deal with current url in templates.
For example to set current HTML class for a link in a menu based on the page being viewed, and so on.</p>
<p>URI helpers are shipped with Foil but they are <strong>not</strong> enabled by default.</p>
<p>To enable them you need to load an extension that is shipped with Foil (more on Foil extensions under <em>"Extending Foil"</em> docs section).</p>
<pre><code class="language-php">$engine-&gt;loadExtension(new \Foil\Extensions\Uri(), $args);</code></pre>
<p>The <code>$args</code> is an array of configurations that changes how the helpers will work. More on this below.</p>
<h2>Pathinfo</h2>
<p>By default the extension will retrieve path info information using <code>$_SERVER</code> superglobal variable, but, for any reason, you might set a custom path info using <code>'pathinfo'</code> option.</p>
<p>An example using Symfony HttpFoundation component:</p>
<pre><code class="language-php">/** @var Symfony\Component\HttpFoundation\Request $request */
$engine-&gt;loadExtension(new \Foil\Extensions\Uri(), ['pathinfo' =&gt; $request-&gt;getPathInfo()]);</code></pre>
<h2>Main <code>uri()</code> method</h2>
<p>There is only one main method for URI helpers, it is <code>uri()</code>. It returns an object on which is possible to call 3 different methods:</p>
<ul>
<li><code>is()</code></li>
<li><code>has()</code></li>
<li><code>match()</code></li>
</ul>
<p>All 3 helpers take as</p>
<ul>
<li>1st argument a condition to match</li>
<li>2nd argument something to return if condition matches. Optional, default to <code>true</code></li>
<li>3rd argument something to return if condition doesn't match. Optional, default to <code>""</code> (empty string)</li>
</ul>
<p>Note that all the conditions are not performed comparing full urls, but urls <em>path</em>.</p>
<p>E.g. if you're viewing the url <code>http://example.com/page</code> the 3 helpers will perform conditions check on <code>"page"</code>.
When viewing home page (<code>http://example.com</code>) the 3 helpers will perform conditions check on <code>"/"</code>.</p>
<p>What said right above is valid by default, but thanks to the <code>'home'</code> option is possible to set an home path so that all conditions check will be done assuming that path as home page.</p>
<p>For example, assuming the extension is loaded like so:</p>
<pre><code class="language-php">$engine-&gt;loadExtension(new \Foil\Extensions\Uri(), ['home' =&gt; 'blog']);</code></pre>
<p>when viewing the url <code>http://example.com/blog/page</code> the 3 helpers will perform conditions check on <code>"page"</code> and the url <code>http://example.com/blog</code> will be considered by helpers as <code>"/"</code>.</p>
<h2><code>is()</code></h2>
<p>Most basic usage of this helper is to check identity between current url path and a path passed to it.</p>
<p>Assuming the url being visited is <code>http://example.com/a/page</code> (and no <code>'home'</code> option is used), in a template</p>
<pre><code class="language-php">$this-&gt;uri()-&gt;is('a/page'); // returns true

$this-&gt;uri()-&gt;is('a/page', 'Yes'); // returns "Yes"

$this-&gt;uri()-&gt;is('another/page', 'Yes'); // returns ""

$this-&gt;uri()-&gt;is('another/page', 'Yes', 'No'); // returns "No"</code></pre>
<p>Another way to use the helper is to set condition via a 2 items array, where the 1s item is an index (1-based) for url chunks and the 2nd item is the chunk to check for.
With <em>chunks</em> here is intended the array obtained <em>exploding</em> the url path by <code>/</code>.</p>
<p>For example, assuming same url as above</p>
<pre><code class="language-php">$this-&gt;uri()-&gt;is([1, 'a']); // returns true

$this-&gt;uri()-&gt;is([2, 'page']); // returns true

$this-&gt;uri()-&gt;is([1, 'a'], 'Yes'); // returns "Yes"

$this-&gt;uri()-&gt;is([1, 'foo'], 'Yes', 'No'); // returns "No"</code></pre>
<p>Remember that is possible to use <code>'home'</code> option to set a path to be used as <em>base</em> for all helpers checks.</p>
<p>For example, assuming the extension is loaded like so</p>
<pre><code class="language-php">$engine-&gt;loadExtension(new \Foil\Extensions\Uri(), ['home' =&gt; 'blog']);</code></pre>
<p>If url being visited is <code>http://example.com/blog/archive</code></p>
<pre><code class="language-php">$this-&gt;uri()-&gt;is('blog/archive'); // returns ""

$this-&gt;uri()-&gt;is('archive'); // returns true

$this-&gt;uri()-&gt;is([1, 'blog']); // returns ""

$this-&gt;uri()-&gt;is([1, 'archive']); // returns true</code></pre>
<h2><code>has()</code></h2>
<p>This is simplest helper of the extension. It accepts as condition only a string and matches the condition if current url <strong>starts</strong> with given string.</p>
<p>Assuming the url being visited is <code>http://example.com/a/page</code> (and no <code>'home'</code> option is used), in a template</p>
<pre><code class="language-php">$this-&gt;uri()-&gt;has('a'); // returns true

$this-&gt;uri()-&gt;has('a/page', 'Yes'); // returns "Yes"

$this-&gt;uri()-&gt;has('page'); // returns ""

$this-&gt;uri()-&gt;has('a/page/deep', 'Yes', 'No'); // returns "No"</code></pre>
<p>In the menu example above in the page this function could be used to set as selected "About Us" parent item when any of its children items is visited,
for a (probably) better readable alternative to <code>is()</code> and url chunk argument.</p>
<p>Below there is an use case example where this helper is used in combination with <code>is()</code> to assign selected HTML class to links in a menu:</p>
<pre><code class="language-php">&lt;ul&gt;
    &lt;li&gt;
        &lt;a href="&lt;?= $this-&gt;link('/') ?&gt;" &lt;?= $this-&gt;uri()-&gt;is('/', 'class="selected"') ?&gt;&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="&lt;?= $this-&gt;link('about') ?&gt;" &lt;?= $this-&gt;uri-&gt;has('about', 'class="selected"') ?&gt;&gt;About Us&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="&lt;?= $this-&gt;link('about/company') ?&gt;" &lt;?= $this-&gt;uri()-&gt;is('about/company', 'class="selected"') ?&gt;&gt;Company&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="&lt;?= $this-&gt;link('about/staff') ?&gt;" &lt;?= $this-&gt;uri()-&gt;is('about/staff', 'class="selected"') ?&gt;&gt;Staff&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="&lt;?= $this-&gt;link('contacts') ?&gt;" &lt;?= $this-&gt;uri()-&gt;is('contacts', 'class="selected"') ?&gt;&gt;Contact Us&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;</code></pre>
<p>Note how "About Us" item is set as selected when any of its child items is visited
thanks to <code>has()</code>, whereas child items are selected when exact url is visited thanks to <code>is()</code>.</p>
<p><code>link()</code> helper used above is documented in the <em>"Functions / Links Helpers"</em> docs section.</p>
<h2><code>match()</code></h2>
<p>This helpers matches a given regex to current url path. When writing regex remember that:</p>
<ul>
<li>there's <strong>no</strong> need to add regex boundary chars</li>
<li>to match home page regex must match <code>'/'</code></li>
<li>the url path that will be checked with regex will have no trailing or leading slash (apart from the homepage which <em>is</em> a slash).
For example if the url being visited is <code>http://example.com/a/page/</code> the matching will be performed against <code>'a/page'</code></li>
</ul>
<p>Assuming the url being visited is <code>http://example.com/a/page</code> (and no <code>'home'</code> option is used), in a template</p>
<pre><code class="language-php">$this-&gt;uri()-&gt;match('^a/.+'); // returns true

$this-&gt;uri()-&gt;has('[0-9]+', 'Yes', 'No'); // returns "No"</code></pre>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

                    <a href="https://github.com/Giuseppe-Mazzapica/Foil">
                <img style="position:fixed; top:0; right:0; border:0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
            </a>
                <a href="#" id="menu-toggle" title="Toggle Menu"><i class="fa fa-bars"></i></a>


    </div>
    <!-- /#wrapper -->

    <footer class="footer hidden-xs hidden-sm">
      Made by hands by
      <a href="http://gm.zoomlab.it/" title="Giuseppe Mazzapica Home Page" target="_blank">Giuseppe Mazzapica</a>, with
      <a href="http://couscous.io/" title="Couscous" target="_blank">Couscous</a>,
      <a href="http://getbootstrap.com/" title="Bootstrap" target="_blank">Bootstrap</a> &amp;
      <a href="https://highlightjs.org/" title="highlight.js" target="_blank">highlight.js</a>

      <span class="socials">
        <a href="https://github.com/Giuseppe-Mazzapica" title="GitHub" target="_blank"><i class="fa fa-github-alt"></i></a>
        <a href="https://twitter.com/gmazzap" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
        <a href="http://wordpress.stackexchange.com/users/35541/" title="Stack Exchange" target="_blank"><i class="fa fa-stack-exchange"></i></a>
      </span>

    </footer>

    <a href="#wrapper" class="hidden-xs hidden-sm" id="back-top" title="Back to top"><i class="fa fa-long-arrow-up"></i></a>
    <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
    <script src="http://www.foilphp.it/js/theme.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-46467639-2', 'auto');
      ga('send', 'pageview');
    </script>

</body>

</html>
