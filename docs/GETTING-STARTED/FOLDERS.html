<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Giuseppe Mazzapica">
    <title>Getting Started / Folders. Foil: PHP Template Engine</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
    <link href="http://www.foilphp.it/css/theme.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

      <!-- Sidebar -->
      <div id="sidebar-wrapper">
          <ul class="sidebar-nav">
                                                  <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Getting Started</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/INSTALLATION.html">
                                      Installation
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/ENGINE.html">
                                      Engine
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/ALIAS.html">
                                      Alias
                                  </a>
                              </li>
                                                        <li class="active">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/FOLDERS.html">
                                      Folders
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/GETTING-STARTED/FILE-EXTENSIONS.html">
                                      File Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Templates</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/INHERITANCE.html">
                                      Template Inheritance
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/SECTIONS-RENDERING.html">
                                      Sections Rendering
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/TEMPLATES/PARTIALS.html">
                                      Partials
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Data</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/PASS-DATA.html">
                                      Pass Data To Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/CONTEXT-API.html">
                                      Context API
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/RETRIEVE-DATA.html">
                                      Retrieve Data Inside Templates
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/HELPERS.html">
                                      Data Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/FILTERS.html">
                                      Data Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/DATA/ARRAIZATION.html">
                                      Arraization
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Blocks &amp; Helpers</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/BLOCKS.html">
                                      Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/LOOP-HELPERS.html">
                                      Loop Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/ARRAY-HELPERS.html">
                                      Array Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/LINK-HELPERS.html">
                                      Link Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/URI-HELPERS.html">
                                      Uri Helpers
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/FUNCTIONS/HTML-HELPERS.html">
                                      HTML and Form Helpers
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Extending Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/CUSTOM-BLOCKS.html">
                                      Custom Blocks
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/FUNCTIONS-AND-FILTERS.html">
                                      Custom Functions and Filters
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/EXTENDING/CUSTOM-EXTENSIONS.html">
                                      Custom Foil Extensions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                    <li>
                      <a class="section" href="#sidebar-wrapper"><i class="fa fa-caret-right"></i> Integrate Foil</a>
                      <ul>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/INTEGRATE/OVERVIEW.html">
                                      Overview
                                  </a>
                              </li>
                                                        <li class="">
                                  <a href="http://www.foilphp.it/docs/INTEGRATE/API.html">
                                      API Functions
                                  </a>
                              </li>
                                                </ul>
                    </li>
                                        </ul>
      </div>
      <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div id="content" class="col-lg-11">
                                                <ol class="breadcrumb">
                          <li><a href="http://www.foilphp.it">Foil</a></li>
                          <li class="active">Getting Started</li>
                        </ol>
                                                <!--
currentMenu: "folders"
currentSection: "Getting Started"
title: "Folders"
-->
<h1>Folders</h1>
<p>When a template is required, Foil will search for it inside registered template folders.</p>
<p>An array of folders where to search for templates can be passed to <code>Foil\engine()</code> method (or to <code>Foil::boot()</code> method) as part of the options array, using the key <code>"folders"</code>:</p>
<pre><code class="language-php">$engine = Foil\engine([
  'folders' =&gt; ['/path/to/templates']
]);

$engine-&gt;render('a-template', $some_data);</code></pre>
<p>The code above looks for the file <code>/path/to/templates/a-template.php</code>.</p>
<p>It is possible to keep templates <em>in order</em> and at same time register just a few folders by using <strong>subfolders</strong>.</p>
<p>For example, if you registered the path <code>'/path/to/templates'</code> and you have a template named <code>'article'</code> inside the folder <code>'/path/to/templates/blog'</code>,
you don't need to register this subdirectory, but just to pass subfolder name to <code>render()</code>:</p>
<pre><code class="language-php">$engine-&gt;render('blog/article', $some_data);</code></pre>
<h2>Change Engine folders after initialization</h2>
<p>After <code>Engine</code> class have been instantiated, there is still possibility to change the folders where it looks for template files:</p>
<ul>
<li>using <code>Engine::addFolder()</code> method</li>
<li>using <code>Engine::setFolders()</code> method</li>
<li>using <code>Finder::in()</code> method</li>
</ul>
<h3>Engine::addFolder()</h3>
<p>The easiest way is to use <code>Engine::addFolder()</code> method. As its name suggests, this method adds a folder where engine looks for templates, without touching the others.</p>
<pre><code class="language-php">$engine = Foil\engine([
  'folders' =&gt; ['/path/to/templates']
]);

$engine-&gt;addFolder('/another/path/to/templates');

$engine-&gt;render('a-template', $some_data);</code></pre>
<p>In the example above, the file <code>a-template.php</code> is first searched in <code>'/path/to/templates'</code> folder and if not found there, Foil will search for it in <code>'/another/path/to/templates'</code> folder.</p>
<p>There is no limit in the number of folders can be added, but note that a large number may slow down template finding process, because Foil have to search any folder until it founds the required template.</p>
<h3>Engine::setFolders()</h3>
<p>This method accepts an array of folders and can be used to completely replace any already added folder.</p>
<h3>Finder::in()</h3>
<p>This method directly acts on the <code>Finder</code> class that is used by Foil to find templates in filesystem.</p>
<p>To obtain the instance of <code>Finder</code> where to call the method you need to call the <code>$engine-&gt;finder()</code> method.</p>
<p><code>Finder::in()</code> method takes 2 arguments, an array of folders (just like <code>Engine::setFolder()</code>) and a boolean value <code>$reset</code>.</p>
<p>When <code>$reset</code> is true, <code>Finder::in()</code> is exactly equivalent to call <code>Engine::setFolders()</code>, so you may prefer to use the latter, as more easily accessible.</p>
<p>When <code>$reset</code> is false, all the passed folders are:</p>
<ul>
<li>added if the ID associated to them is not yet registered (a sort of <em>batch</em> <code>Engine::addFolder()</code>)</li>
<li>updated if the ID associated to them is already registered</li>
</ul>
<p>To understand what <em>"the ID associated to folders"</em> means read next section.</p>
<h2>Target specific folders</h2>
<p>When two or more files with same name exist in different registered folders, only the first found (where folder are searched in registration order) is used.</p>
<p>This behavior may not be desirable, e.g. if you want to render a template in a specific folder.</p>
<p>Foil allows to target specific folders by assigning <strong>ID</strong> to folders.</p>
<p>All folders registration methods support folder IDs:</p>
<ul>
<li>when using methods that accept folders as array, IDs are the array keys</li>
<li>when using <code>addFolder</code> method, the second argument can be a folder ID</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">$engine = Foil\engine([
  // ID for this folder will be "main"
  'folders' =&gt; ['main' =&gt; 'path/to/templates']
]);

// ID for this folder will be "secondary"
$engine-&gt;addFolder('another/path/to/templates', 'secondary');</code></pre>
<p>Once folders are registered with IDs, is possible to target a specific folder inside <code>render()</code> method (and in all the methods that accept template names) using folder ID and a double column before template name:</p>
<pre><code class="language-php">$engine-&gt;render('secondary::template-name', $some_data);</code></pre>
<h3>Finder::in() and folders names</h3>
<p>As said above, <code>Finder::in()</code> method accepts an array of folders and its behaviour, when <code>$reset</code> argument is <code>false</code>, depends on the registered folders IDs.</p>
<p>An example should clarify how it works:</p>
<pre><code class="language-php">$engine = Foil\engine([
  'folders' =&gt; [
     'one' =&gt; 'path/to/templates/one',
     'two' =&gt; 'path/to/templates/two',
   ]
]);</code></pre>
<p>And somewhere after that</p>
<pre><code class="language-php">$finder = $engine-&gt;finder();

$finder-&gt;in([
  'three' =&gt; 'path/to/templates/three',
  'one'   =&gt; 'path/to/templates/alternative/one',
]);</code></pre>
<p>After that, the registered folders will be:</p>
<pre><code class="language-php">[
  'one'   =&gt; 'path/to/templates/alternative/one', // this have been edited
  'two'   =&gt; 'path/to/templates/two'
  'three' =&gt; 'path/to/templates/three'            // this have been added
]</code></pre>
<p>So</p>
<ul>
<li>the folder with ID <code>'one'</code> has been updated, because its ID was already registered</li>
<li>the folder with ID <code>'three'</code> has been added, because its ID was not registered</li>
</ul>
<p>Please note how <code>Finder::in()</code> was not able to change the order of folders.</p>
<p>In fact, after <code>Finder::in()</code> was called, the folder with ID <code>'one'</code> is still the first folder
where Foil will look to templates, even if it points to a different folder.</p>
<p>If you need to change the order of folders, you need to set <code>$reset</code> argument to <code>true</code> or use <code>Engine::setFolders</code> method.</p>
<p>Those methods can be used in combination with <code>Finder::dirs()</code> method that return the array of all folders currently in use.</p>
<p><strong>Please note</strong>: <code>$reset</code> argument was introduced in version <code>0.6</code>.</p>
<h2>All folders have IDs</h2>
<p>When registering folders (no matter the method) the folders "ID" is always optional: methods that accepts an array of folders
do not complain if the array is not an <em>associative</em> array, and when using <code>Engine::addFolder()</code> method, the second argument is optional.</p>
<p>However, Foil <strong>always assign an ID to a folder</strong> if is not <em>manually</em> assigned.</p>
<p>The automatically assigned ID is made by the folder name and its direct folder parent name joined with a dot.</p>
<p>E.g. the ID assigned to the folder <code>/path/to/templates</code> would be <code>to.templates</code>.</p>
<p>This may brings some problems, e.g. the two paths:</p>
<ul>
<li><code>/one/path/to/templates</code></li>
<li><code>/another/path/to/templates</code></li>
</ul>
<p>are assigned to same ID, and Foil will be not capable to distinguish between the two.</p>
<p>This may appear an awful behavior, however it make pretty easy to access a specific folder by ID in a predictable way
even when folders are registered with no IDs.</p>
<p>If you are afraid of (or you are experimenting) such conflicts, always register folders using unique IDs.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

                    <a href="https://github.com/Giuseppe-Mazzapica/Foil">
                <img style="position:fixed; top:0; right:0; border:0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
            </a>
                <a href="#" id="menu-toggle" title="Toggle Menu"><i class="fa fa-bars"></i></a>


    </div>
    <!-- /#wrapper -->

    <footer class="footer hidden-xs hidden-sm">
      Made by hands by
      <a href="http://gm.zoomlab.it/" title="Giuseppe Mazzapica Home Page" target="_blank">Giuseppe Mazzapica</a>, with
      <a href="http://couscous.io/" title="Couscous" target="_blank">Couscous</a>,
      <a href="http://getbootstrap.com/" title="Bootstrap" target="_blank">Bootstrap</a> &amp;
      <a href="https://highlightjs.org/" title="highlight.js" target="_blank">highlight.js</a>

      <span class="socials">
        <a href="https://github.com/Giuseppe-Mazzapica" title="GitHub" target="_blank"><i class="fa fa-github-alt"></i></a>
        <a href="https://twitter.com/gmazzap" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
        <a href="http://wordpress.stackexchange.com/users/35541/" title="Stack Exchange" target="_blank"><i class="fa fa-stack-exchange"></i></a>
      </span>

    </footer>

    <a href="#wrapper" class="hidden-xs hidden-sm" id="back-top" title="Back to top"><i class="fa fa-long-arrow-up"></i></a>
    <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
    <script src="http://www.foilphp.it/js/theme.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-46467639-2', 'auto');
      ga('send', 'pageview');
    </script>

</body>

</html>
